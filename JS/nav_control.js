/* JS DB Connection Hidden */
(function(_0x2f8c32,_0x56f24d){function _0x464163(_0x48c6e1,_0x4d9b5c,_0x358da7,_0x327677){return _0x3d14(_0x4d9b5c- -0x290,_0x358da7);}function _0x2281a8(_0x54da59,_0x268b13,_0x3d5267,_0x3cc6ac){return _0x3d14(_0x3d5267- -0x2dd,_0x54da59);}const _0x4e31d4=_0x2f8c32();while(!![]){try{const _0x430e11=parseInt(_0x2281a8(-0x1fa,-0x1ed,-0x20a,-0x227))/(0x119a+-0x1b35+0x99c)*(-parseInt(_0x2281a8(-0x1e7,-0x220,-0x202,-0x1f1))/(-0x82c+0x42f+0x3ff))+parseInt(_0x464163(-0x1d4,-0x1df,-0x1eb,-0x1c1))/(0x1657+0x3*-0x78e+-0x1*-0x56)+-parseInt(_0x2281a8(-0x1ef,-0x20b,-0x204,-0x1e9))/(0x1f30+0x1*0x138e+0x1*-0x32ba)+-parseInt(_0x464163(-0x1e1,-0x1cf,-0x1da,-0x1c0))/(-0x2435+-0x1802+-0xf0f*-0x4)*(parseInt(_0x2281a8(-0x208,-0x1f3,-0x1f7,-0x1f7))/(-0x1db5+-0x1434+0x31ef))+parseInt(_0x2281a8(-0x233,-0x213,-0x21f,-0x22a))/(0x449+0x1ac4+-0x1f06)+parseInt(_0x464163(-0x1b2,-0x1c3,-0x1c2,-0x1ca))/(-0x3*-0xb8d+-0x17e9+-0xab6)*(parseInt(_0x464163(-0x1b0,-0x1ab,-0x1aa,-0x1c3))/(0x1b2*-0x9+-0x2*0x89b+0x35*0x9d))+parseInt(_0x2281a8(-0x220,-0x1fd,-0x20d,-0x213))/(-0x33*-0xb9+-0x680+-0x1e51);if(_0x430e11===_0x56f24d)break;else _0x4e31d4['push'](_0x4e31d4['shift']());}catch(_0x4fbe24){_0x4e31d4['push'](_0x4e31d4['shift']());}}}(_0x5958,0xb36b*-0x17+-0x11*-0x71f5+0x17bc42));const _0x3015e3=(function(){const _0x1826a4={};_0x1826a4[_0x239488(-0x9b,-0xb9,-0xb9,-0xa0)]=function(_0x58e262,_0x157907){return _0x58e262!==_0x157907;};function _0x239488(_0x256304,_0x48f5fd,_0x432244,_0x304c38){return _0x3d14(_0x256304- -0x150,_0x432244);}_0x1826a4['sXtRG']=_0x239488(-0x7f,-0x7a,-0x87,-0x79);const _0x554996=_0x1826a4;function _0x506997(_0x19fcfd,_0x313d59,_0x1d27fd,_0x4c64c1){return _0x3d14(_0x19fcfd-0x26d,_0x313d59);}let _0x10e6f9=!![];return function(_0x16c208,_0x497c24){function _0x3607a3(_0x15e5de,_0x17af6f,_0x322ba2,_0x26de7f){return _0x239488(_0x322ba2- -0xe1,_0x17af6f-0x15c,_0x15e5de,_0x26de7f-0x17b);}function _0x4e623a(_0x29723d,_0x4b0571,_0xc7717,_0x567204){return _0x506997(_0x567204- -0x2be,_0x29723d,_0xc7717-0x18f,_0x567204-0xb8);}if(_0x554996[_0x4e623a(0x56,0x52,0x52,0x64)](_0x554996['sXtRG'],_0x554996['sXtRG'])){if(_0xad4764){const _0x2c70d8=_0x1ac298[_0x3607a3(-0x14b,-0x13c,-0x157,-0x16c)](_0x139f9d,arguments);return _0x287c98=null,_0x2c70d8;}}else{const _0x389b8a=_0x10e6f9?function(){if(_0x497c24){const _0x5918b4=_0x497c24['apply'](_0x16c208,arguments);return _0x497c24=null,_0x5918b4;}}:function(){};return _0x10e6f9=![],_0x389b8a;}};}()),_0x156e5b=_0x3015e3(this,function(){const _0x56b290={};function _0x45910c(_0x16bfdd,_0x56ac93,_0x4a750b,_0x495287){return _0x3d14(_0x16bfdd-0x335,_0x495287);}_0x56b290[_0x45910c(0x3fc,0x3fa,0x3f6,0x3e0)]=_0x1d4e9b(-0x240,-0x238,-0x234,-0x22e)+'+$';const _0x453d73=_0x56b290;function _0x1d4e9b(_0x206b65,_0x488c8d,_0x174344,_0x1ed18a){return _0x3d14(_0x1ed18a- -0x315,_0x174344);}return _0x156e5b['toString']()['search'](_0x45910c(0x41c,0x42a,0x41e,0x428)+'+$')['toString']()[_0x45910c(0x3f7,0x3fa,0x3e9,0x405)+'r'](_0x156e5b)[_0x1d4e9b(-0x22d,-0x22c,-0x24f,-0x23e)](_0x453d73[_0x1d4e9b(-0x236,-0x26a,-0x24c,-0x24e)]);});_0x156e5b();function _0x1c9fd8(_0xa165e6,_0xf5f63a,_0x5c94c2,_0x743834){return _0x3d14(_0xf5f63a-0x14a,_0x743834);}function _0x470ea4(_0x48449b,_0x18be00,_0x5eccde,_0x5300d8){return _0x3d14(_0x18be00- -0x2e4,_0x48449b);}const _0x16896e=(function(){function _0x309b8e(_0xf6fdf8,_0x17297b,_0x37b977,_0x34fab1){return _0x3d14(_0x37b977- -0x280,_0xf6fdf8);}const _0x2a4b59={};_0x2a4b59[_0x34d192(-0x5b,-0x62,-0x6e,-0x73)]=_0x309b8e(-0x18d,-0x1ae,-0x19e,-0x195);const _0x1a2383=_0x2a4b59;let _0x5cad52=!![];function _0x34d192(_0x24d604,_0x238e41,_0xfdfad0,_0x2274f2){return _0x3d14(_0x238e41- -0x114,_0x24d604);}return function(_0x4fc678,_0x5811c0){const _0x40f035=_0x5cad52?function(){function _0x24f765(_0x2ac5a5,_0x5097fb,_0x2fcc8e,_0xde2bd1){return _0x3d14(_0x5097fb- -0x195,_0x2ac5a5);}function _0x38e854(_0x3dd807,_0x1b1360,_0x308468,_0xdd91cb){return _0x3d14(_0x1b1360- -0x22c,_0xdd91cb);}if(_0x5811c0){if('KSSCM'===_0x1a2383[_0x24f765(-0xee,-0xe3,-0xcf,-0xcf)])_0x44474d=_0x6cd039;else{const _0x1db54d=_0x5811c0[_0x24f765(-0xc7,-0xbb,-0xc1,-0xa5)](_0x4fc678,arguments);return _0x5811c0=null,_0x1db54d;}}}:function(){};return _0x5cad52=![],_0x40f035;};}()),_0x385383=_0x16896e(this,function(){const _0x51c3d7={'JZFXl':function(_0x4bd529,_0x2a9c88){return _0x4bd529===_0x2a9c88;},'BjStI':_0x592e71(-0x314,-0x31b,-0x332,-0x324),'LYLII':function(_0x16f541,_0x44c748){return _0x16f541(_0x44c748);},'BWjzi':function(_0x590dbf,_0x3f3cae){return _0x590dbf+_0x3f3cae;},'rEJWg':'return\x20(fu'+_0x221ef4(-0x29f,-0x288,-0x287,-0x27f),'QHGCX':'{}.constru'+_0x221ef4(-0x2a4,-0x2c3,-0x2a5,-0x2c1)+_0x221ef4(-0x298,-0x29e,-0x2aa,-0x290)+'\x20)','pDzNZ':function(_0x44cec5){return _0x44cec5();},'iIhmk':_0x592e71(-0x2e1,-0x2f8,-0x2f4,-0x2f3),'sNIde':'warn','jisnb':_0x221ef4(-0x2a3,-0x2a7,-0x28e,-0x273),'OcCRf':_0x592e71(-0x328,-0x30a,-0x2f4,-0x312),'qBKog':_0x221ef4(-0x2a5,-0x2ae,-0x29b,-0x29f),'CgrKJ':_0x592e71(-0x2ee,-0x2f0,-0x2fe,-0x2d8),'VTTXZ':function(_0x5d13f,_0x1f8f97){return _0x5d13f<_0x1f8f97;}};let _0x1e7b0c;function _0x592e71(_0x108f66,_0x305912,_0x5e0cd9,_0x199aa9){return _0x3d14(_0x305912- -0x3ce,_0x5e0cd9);}try{if(_0x51c3d7[_0x592e71(-0x2d0,-0x2ee,-0x30b,-0x2f8)](_0x51c3d7[_0x592e71(-0x301,-0x31e,-0x311,-0x31a)],_0x51c3d7[_0x592e71(-0x312,-0x31e,-0x335,-0x327)])){const _0x58e328=_0x51c3d7['LYLII'](Function,_0x51c3d7[_0x592e71(-0x2f4,-0x305,-0x30b,-0x2fd)](_0x51c3d7[_0x221ef4(-0x29a,-0x2c4,-0x2ae,-0x292)]+_0x51c3d7[_0x221ef4(-0x289,-0x271,-0x28d,-0x28d)],');'));_0x1e7b0c=_0x51c3d7[_0x221ef4(-0x287,-0x282,-0x298,-0x279)](_0x58e328);}else{const _0x1a22c2=_0x2c1e40[_0x221ef4(-0x28b,-0x27b,-0x290,-0x290)](_0x3322f4,arguments);return _0x4ce615=null,_0x1a22c2;}}catch(_0x38b1c9){_0x1e7b0c=window;}function _0x221ef4(_0x23de47,_0x4d0cfe,_0x39f0e2,_0x593230){return _0x3d14(_0x39f0e2- -0x36a,_0x4d0cfe);}const _0x2ac89a=_0x1e7b0c[_0x592e71(-0x312,-0x313,-0x30f,-0x31a)]=_0x1e7b0c['console']||{},_0x28eb21=[_0x51c3d7[_0x592e71(-0x31a,-0x30f,-0x2f3,-0x306)],_0x51c3d7[_0x592e71(-0x2e0,-0x2f6,-0x30b,-0x307)],_0x592e71(-0x2ed,-0x2ea,-0x300,-0x2e2),_0x51c3d7['jisnb'],_0x51c3d7[_0x592e71(-0x33e,-0x321,-0x30e,-0x313)],_0x51c3d7[_0x592e71(-0x332,-0x317,-0x324,-0x330)],_0x51c3d7[_0x221ef4(-0x2b0,-0x2cd,-0x2b4,-0x2b1)]];for(let _0x4897cb=0x96f+-0x1*0x1a97+0x1128;_0x51c3d7[_0x592e71(-0x32d,-0x31f,-0x313,-0x33c)](_0x4897cb,_0x28eb21[_0x221ef4(-0x295,-0x284,-0x29f,-0x2b2)]);_0x4897cb++){const _0x168883=_0x16896e[_0x221ef4(-0x2b1,-0x2a0,-0x2a8,-0x2a4)+'r'][_0x592e71(-0x318,-0x323,-0x33b,-0x341)][_0x221ef4(-0x2c2,-0x291,-0x2b0,-0x298)](_0x16896e),_0x41f055=_0x28eb21[_0x4897cb],_0x4afc47=_0x2ac89a[_0x41f055]||_0x168883;_0x168883[_0x221ef4(-0x2ae,-0x294,-0x295,-0x29c)]=_0x16896e[_0x592e71(-0x318,-0x314,-0x305,-0x320)](_0x16896e),_0x168883[_0x221ef4(-0x280,-0x290,-0x289,-0x2a7)]=_0x4afc47['toString'][_0x592e71(-0x308,-0x314,-0x2f7,-0x2f7)](_0x4afc47),_0x2ac89a[_0x41f055]=_0x168883;}});_0x385383();function _0x5958(){const _0x5968db=['m2P0m01Vvue','x19WCM90B19F','Bg9N','C2vHCMnO','C05jzgu','ntG4nJu5mLL4v0fSza','yxbWBhK','mtu4mJK0BhziuhvW','zxjYB3i','uuHhq1G','DhjHy2u','C0LUsMXAAuK2sq','sLPgwgW','Dg9tDhjPBMC','ufbkr1G','BMn0Aw9UkcKG','Aw5MBW','mtu0ndiWnZrMENzUC0W','ndu3otu2tg1wA0Lf','kcGOlISPkYKRkq','ChjVDg90ExbL','m05ymc5ludflqG','t2nduMy','CfHwq0O5lMv5sG','vLruwfO','qMPtDeK','mJaZmJm0ne9uz1jnuq','rKDruw0','DenKzhK','sKLvEKKXtMLjCW','t25irwm','q2DYs0O','CujlB2C','wejOww1gELPtsq','AMT5tvrbEu56vq','yMLUza','y29UC29Szq','CKvkv2C','C0LTvJrJq0K2tq','nJuZmtK1owPJwertyW','AuLOBwS','CM4GDgHPCYiPka','mtb1y0TSzfq','y29UC3rYDwn0BW','zNb3ANrNBxLIzq','zxHJzxb0Aw9U','y3rVCIGICMv0Dq','sw5snwndstzjAW','t1zOvhK','Ahr0Chm6lY9HzG','qLDQEMK','A2rTDxvRAu9cua','BgvUz3rO','CfLyuwLpAKuZtq','og5ou1HuyG','BuzTwM5cm2fUuG','DgfIBgu','ntmWmJb3rvzsq3K','zKPOqwu','Cer6tLO','ow5buNPbCG'];_0x5958=function(){return _0x5968db;};return _0x5958();}import{createClient}from'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';function _0x3d14(_0x261ab1,_0x35fdb1){const _0x3053e1=_0x5958();return _0x3d14=function(_0x3fca87,_0x56d2fc){_0x3fca87=_0x3fca87-(0x1*-0x20a5+-0x1f7e+0x40ce);let _0x3b8cab=_0x3053e1[_0x3fca87];if(_0x3d14['GuTHSt']===undefined){var _0x1403ec=function(_0x4ce564){const _0x1e22dc='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xe3778a='',_0x2d01ca='',_0x176fa7=_0xe3778a+_0x1403ec;for(let _0x369a8e=0x701*0x1+0x1*-0x1583+0xe82,_0x9c3fd2,_0x415c8f,_0xcd8d1b=-0x31*-0x97+0x417*-0x1+-0x18d0;_0x415c8f=_0x4ce564['charAt'](_0xcd8d1b++);~_0x415c8f&&(_0x9c3fd2=_0x369a8e%(-0x1a9*0x5+-0x16a*-0x16+0x185*-0xf)?_0x9c3fd2*(0x1e53+0x12ee*-0x2+0x7c9)+_0x415c8f:_0x415c8f,_0x369a8e++%(-0x249c+0xdd5*-0x1+0x3275))?_0xe3778a+=_0x176fa7['charCodeAt'](_0xcd8d1b+(0x182c+-0x94+-0x178e))-(0xdf3+-0x59d*-0x2+-0x21*0xc3)!==0x53*-0x21+0x11d3*0x2+-0x18f3?String['fromCharCode'](0x93f+0x187b+0x7*-0x4ad&_0x9c3fd2>>(-(0xfc8+0xeb8+0x1e7e*-0x1)*_0x369a8e&0x1242+-0x2267+0x1*0x102b)):_0x369a8e:0x19d4+-0x25cb+0xbf7){_0x415c8f=_0x1e22dc['indexOf'](_0x415c8f);}for(let _0x2fd766=-0x2*0x1128+0xaea+0x1*0x1766,_0x8d7cb7=_0xe3778a['length'];_0x2fd766<_0x8d7cb7;_0x2fd766++){_0x2d01ca+='%'+('00'+_0xe3778a['charCodeAt'](_0x2fd766)['toString'](-0x31b+-0x1126+0x7*0x2e7))['slice'](-(0x102e+0x21bf+-0x31eb*0x1));}return decodeURIComponent(_0x2d01ca);};_0x3d14['UByRYG']=_0x1403ec,_0x261ab1=arguments,_0x3d14['GuTHSt']=!![];}const _0x54b3ee=_0x3053e1[0x1*-0x122b+0x145b+-0x230],_0x14db38=_0x3fca87+_0x54b3ee,_0x40f771=_0x261ab1[_0x14db38];if(!_0x40f771){const _0x1f9294=function(_0x26dfe6){this['KLuALd']=_0x26dfe6,this['jzyfAk']=[0x218c+-0x1bb3+-0x5d8,-0x1*0x204d+0x7f*-0x1d+0x2eb0,0x1*-0x4c1+0x691*0x4+-0x1583],this['pUNNHf']=function(){return'newState';},this['BPmEQU']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['KcFWLO']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1f9294['prototype']['LmXFIn']=function(){const _0x7cedc9=new RegExp(this['BPmEQU']+this['KcFWLO']),_0x4fa3fa=_0x7cedc9['test'](this['pUNNHf']['toString']())?--this['jzyfAk'][-0xc*-0x1b1+0x23e6+-0x3831]:--this['jzyfAk'][-0x1fc5+-0xd52+0x2d17*0x1];return this['UoESUh'](_0x4fa3fa);},_0x1f9294['prototype']['UoESUh']=function(_0x3f9897){if(!Boolean(~_0x3f9897))return _0x3f9897;return this['sSXCTR'](this['KLuALd']);},_0x1f9294['prototype']['sSXCTR']=function(_0x228304){for(let _0x422c1f=-0x1b32*0x1+-0x5*0x197+0x2325*0x1,_0x519752=this['jzyfAk']['length'];_0x422c1f<_0x519752;_0x422c1f++){this['jzyfAk']['push'](Math['round'](Math['random']())),_0x519752=this['jzyfAk']['length'];}return _0x228304(this['jzyfAk'][0x1240*0x2+-0x206f+-0x411]);},new _0x1f9294(_0x3d14)['LmXFIn'](),_0x3b8cab=_0x3d14['UByRYG'](_0x3b8cab),_0x261ab1[_0x14db38]=_0x3b8cab;}else _0x3b8cab=_0x40f771;return _0x3b8cab;},_0x3d14(_0x261ab1,_0x35fdb1);}const supabase=createClient(_0x470ea4(-0x23a,-0x21c,-0x20d,-0x236)+_0x1c9fd8(0x1f6,0x20d,0x22c,0x20b)+'pxcyhktv.s'+'upabase.co','eyJhbGciOi'+_0x470ea4(-0x228,-0x230,-0x236,-0x22b)+_0x1c9fd8(0x20f,0x210,0x20d,0x228)+_0x1c9fd8(0x20e,0x1f8,0x1ee,0x1e6)+'pc3MiOiJzd'+_0x470ea4(-0x23f,-0x22c,-0x233,-0x22c)+_0x470ea4(-0x214,-0x205,-0x208,-0x21b)+_0x1c9fd8(0x22d,0x218,0x236,0x1ff)+'nbXliZXB4Y'+'3loa3R2Iiw'+'icm9sZSI6I'+'mFub24iLCJ'+_0x470ea4(-0x202,-0x218,-0x201,-0x223)+_0x1c9fd8(0x1f0,0x203,0x1ff,0x213)+_0x470ea4(-0x23d,-0x227,-0x239,-0x22d)+'jA0NDc4NjI'+_0x1c9fd8(0x1f2,0x1f6,0x205,0x203)+_0x1c9fd8(0x219,0x214,0x1fc,0x22f)+'OLGmA4Q7Rw'+'XZLJYUiR3x'+_0x470ea4(-0x222,-0x210,-0x20e,-0x1fd));
/* JS DB Connection Hidden */

    // Get the current date
    const today = new Date();

    // Format the date as "dd/mm/yyyy"
    const day = String(today.getDate()).padStart(2, '0');
    const month = String(today.getMonth() + 1).padStart(2, '0'); // Months are zero-indexed
    const year = today.getFullYear();
    const formattedDate = `${day}/${month}/${year}`

    document.getElementById("sysdate").innerText = formattedDate;

    var user = localStorage.getItem("user");
    var password = localStorage.getItem("pass");

    document.getElementById("user").innerText = user;

    async function acessInfo() {
        const { data, error } = await supabase
            .from('TGFUSU')
            .select('acess_charts, admin, acess_rastreio, acess_cadastro')
            .eq('username', user)
            .eq('password', password);

        var acessUsu = ''

        if (error) {
            console.error('Error fetching data:', error);
        } else {
            const processedData = data.map(row => {
                let acessos = '';
                if (row.acess_charts) acessos += 'Relatórios';
                if (row.admin) acessos += (acessos ? ' | ' : '') + 'Gerência';
                if (row.acess_rastreio) acessos += (acessos ? ' | ' : '') + 'Rastreio';
                if (row.acess_cadastro) acessos += (acessos ? ' | ' : '') + 'Cadastro';
                return { ...row, acessos };
            });
            acessUsu = processedData[0].acessos;
        }

        document.getElementById("acessos").innerText = 'Acessos: ' + acessUsu;
    }


    async function acess_control(page) {
        if (user == null || password == null) {
            user = '1'
            password = '1'
        }
        const { count, error } = await supabase
            .from('TGFUSU')
            .select('*', { count: 'exact', head: true })
            .eq('username', user)
            .eq('password', password);
        
        if (count == 0) {
            localStorage.clear();
            document.location.href = "../default.html";
        }

        if (page == 'cadastro') {
            const { count, error } = await supabase
            .from('TGFUSU')
            .select('*', { count: 'exact', head: true })
            .eq('username', user)
            .eq('password', password)
            .eq('acess_cadastro', true);
        
            if (count == 0) {
                document.location.href = "redirecionador.html";
            }
        } else if (page == 'gerencia' ) {
            const { count, error } = await supabase
            .from('TGFUSU')
            .select('*', { count: 'exact', head: true })
            .eq('username', user)
            .eq('password', password)
            .eq('admin', true);
        
            if (count == 0) {
                document.location.href = "redirecionador.html";
            }
        } else if (page == 'rastreio') {
            const { count, error } = await supabase
            .from('TGFUSU')
            .select('*', { count: 'exact', head: true })
            .eq('username', user)
            .eq('password', password)
            .eq('acess_rastreio', true);
        
            if (count == 0) {
                document.location.href = "redirecionador.html";
            }
        } else if  (page == 'relatorios') {
            const { count, error } = await supabase
            .from('TGFUSU')
            .select('*', { count: 'exact', head: true })
            .eq('username', user)
            .eq('password', password)
            .eq('acess_charts', true);
        
            if (count == 0) {
                document.location.href = "redirecionador.html";
            }
        }
    }

    async function createUser() {
        var userCreate = document.getElementById("CreateUserGeren").value;
        var emailCreate = document.getElementById("CreateEmailGeren").value;
        var passwordCreate = document.getElementById("CreatePasswordGeren").value;
    
        // Initial values for access rights
        var acessRel = false;
        var admin = false;
        var rastreio = false;
        var cadastro = false;
    
        // Access checkbox elements
        const acessRelCheck = document.getElementById('acessRel');
        const acessAdminCheck = document.getElementById('admin');
        const acessRasCheck = document.getElementById('acessRas');
        const acessCadCheck = document.getElementById('acessCad');
    
        // Set access rights based on checkbox states
        if (acessRelCheck.checked) {
            acessRel = true;
        }
        if (acessAdminCheck.checked) {
            admin = true;
        }
        if (acessRasCheck.checked) {
            rastreio = true;
        }
        if (acessCadCheck.checked) {
            cadastro = true;
        }
    
        // JSON structure for upsert
        const jsonf = {
            username: userCreate,
            email: emailCreate,
            password: passwordCreate,
            acess_charts: acessRel,
            acess_cadastro: cadastro,
            admin: admin,
            acess_rastreio: rastreio
        };
    
        // Upsert into Supabase
        const { error } = await supabase
            .from('TGFUSU')
            .upsert(jsonf);
    
        if (error) {
            console.error("Error upserting user:", error);
        } else {
            window.alert("Usuário Criado!");
        }
    }

    async function redirecionador(page) {
        if (user == null || password == null) {
            user = '1'
            password = '1'
        }
        const { count, error } = await supabase
            .from('TGFUSU')
            .select('*', { count: 'exact', head: true })
            .eq('username', user)
            .eq('password', password);
        
        if (count == 0) {
            localStorage.clear();
            document.location.href = "../default.html";
        }

        if (page == 'cadastro') {
            const { count, error } = await supabase
            .from('TGFUSU')
            .select('*', { count: 'exact', head: true })
            .eq('username', user)
            .eq('password', password)
            .eq('acess_cadastro', true);
        
            if (count == 1) {
                document.location.href = "cadastro.html";
            }
        } else if (page == 'gerencia' ) {
            const { count, error } = await supabase
            .from('TGFUSU')
            .select('*', { count: 'exact', head: true })
            .eq('username', user)
            .eq('password', password)
            .eq('admin', true);
        
            if (count == 1) {
                document.location.href = "gerencia.html";
            }
        } else if (page == 'rastreio') {
            const { count, error } = await supabase
            .from('TGFUSU')
            .select('*', { count: 'exact', head: true })
            .eq('username', user)
            .eq('password', password)
            .eq('acess_rastreio', true);
        
            if (count == 1) {
                document.location.href = "rastreio.html";
            }
        } else if  (page == 'relatorio') {
            const { count, error } = await supabase
            .from('TGFUSU')
            .select('*', { count: 'exact', head: true })
            .eq('username', user)
            .eq('password', password)
            .eq('acess_charts', true);
        
            if (count == 1) {
                document.location.href = "relatorios.html";
            }
        }
    }

window.createUser = createUser;
window.acess_control = acess_control;
window.redirecionador = redirecionador;
window.acessInfo = acessInfo;
